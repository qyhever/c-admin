(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7532"],{"0wpU":function(t,e,r){"use strict";var i=r("JAlp");r.n(i).a},JAlp:function(t,e,r){},qhhi:function(t,e,r){"use strict";r.r(e);var i=r("urRO"),n=r.n(i),a=(r("RgTD"),r("+n12")),o={props:{src:{type:String,default:""},preview:{type:Boolean,default:!0},moveStep:{type:Number,default:4},cropButtonText:{type:String,default:"裁剪"}},data:function(){return{cropper:null,insideSrc:""}},computed:{imgId:function(){return"cropper"+this._uid},previewId:function(){return"cropper_preview"+this._uid}},watch:{src:function(t){this.replace(t)},insideSrc:function(t){this.replace(t)}},mounted:function(){var t=this;this.$nextTick(function(){var e=document.getElementById(t.imgId);t.cropper=new n.a(e,{preview:"#"+t.previewId,checkCrossOrigin:!0,autoCropArea:1,modal:!1,background:!1,scalable:!1})})},methods:{upload:function(){var t=this;Object(a.a)("img").then(function(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t.insideSrc=e.target.result}})},replace:function(t){this.cropper.replace(t),this.insideSrc=t},rotate:function(){this.cropper.rotate(90)},shrink:function(){this.cropper.zoom(-.1)},magnify:function(){this.cropper.zoom(.1)},scale:function(t){this.cropper["scale"+t](-this.cropper.getData()["scale"+t])},move:function(){var t;(t=this.cropper).move.apply(t,arguments)},crop:function(){var t=this;this.cropper.getCroppedCanvas().toBlob(function(e){t.$emit("on-crop",e)})}}},s=(r("0wpU"),r("KHd+")),c=Object(s.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cropper-wrapper"},[r("div",{staticClass:"img-box"},[r("img",{staticClass:"cropper-image",attrs:{id:t.imgId,alt:""}})]),t._v(" "),r("div",{staticClass:"right-con"},[t.preview?r("div",{staticClass:"preview-box",attrs:{id:t.previewId}}):t._e(),t._v(" "),r("div",{staticClass:"button-box"},[t._t("default",[r("el-button",{attrs:{type:"primary"},on:{click:t.upload}},[t._v("上传图片")])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.insideSrc,expression:"insideSrc"}],staticClass:"mt10"},[r("el-button",{staticClass:"control-btn",attrs:{type:"primary"},on:{click:t.rotate}},[r("i",{staticClass:"fa fa-rotate-right"})]),t._v(" "),r("el-button",{staticClass:"control-btn",attrs:{type:"primary"},on:{click:t.shrink}},[r("i",{staticClass:"fa fa-minus"})]),t._v(" "),r("el-button",{staticClass:"control-btn",attrs:{type:"primary"},on:{click:t.magnify}},[r("i",{staticClass:"fa fa-plus"})]),t._v(" "),r("el-button",{staticStyle:{width:"150px","margin-top":"10px","margin-left":"0"},attrs:{type:"primary"},on:{click:t.crop}},[t._v(t._s(t.cropButtonText))])],1)],2)])])},[],!1,null,"3eab535b",null);c.options.__file="cropper.vue";var p={name:"base_cropper",components:{VueCropper:c.exports},data:function(){return{url:""}},methods:{handleCroped:function(t){var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){console.log(t.target.result)}}}},l=Object(s.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"con-main"},[e("vue-cropper",{attrs:{src:this.url},on:{"on-crop":this.handleCroped}})],1)},[],!1,null,null,null);l.options.__file="cropper.vue";e.default=l.exports}}]);