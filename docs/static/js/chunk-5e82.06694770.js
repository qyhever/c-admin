(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5e82"],{AxHL:function(t,e,n){},JkuC:function(t,e,n){"use strict";n.r(e);var i=n("4d7F"),a=n.n(i),o=n("P2sY"),s=n.n(o),r=n("on7z"),c=n("vDqi"),u=n.n(c),d=window.CKEDITOR,l={name:"CKEditor",props:{value:{type:String,default:""},id:{type:String,default:"editor-"+ +new Date},options:{type:Object,default:function(){return{}}}},data:function(){return{instanceValue:""}},watch:{value:function(t){this.setData(t)}},mounted:function(){this.initCkeditor()},activated:function(){this.initCkeditor()},methods:{initCkeditor:function(){var t=this,e={height:"300px",width:"100%",imageUploadCallback:this.imageUploadCallback},n=s()({},e,this.options);d.replace(this.id,n),this.editor=d.instances[this.id];var i=this.editor;i.setData(this.value),i.on("instanceReady",function(){i.setData(t.value)}),i.on("change",this.handleChange),i.on("mode",this.handleMode)},handleChange:function(){var t=this.editor.getData();this.value!==t&&(this.$emit("input",t),this.instanceValue=t)},handleMode:function(){if("source"===this.editor.mode){var t=this.editor.editable();t.attachListener(t,"input",this.handleChange)}},setData:function(t){this.editor&&this.instanceValue!==t&&this.editor.setData(t)},destroyCkeditor:function(){this.editor&&this.editor.destroy()},imageUploadCallback:function(t,e){var n=this;r.a.get("/upload/qiniuToken").then(function(t){var e=t.data.token;return a.a.resolve(e)}).then(function(i){var a=new FormData;a.append("file",t),a.append("token",i),u.a.post(n.QINIU_UPLOAD_URL,a).then(function(t){var i=t.data.hash,a=n.QINIU_PREFIX+i;e(a)})}).catch(function(t){console.log(t),n.$message.error("上传失败")})}}},h=n("KHd+"),f=Object(h.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("textarea",{attrs:{id:this.id}})])},[],!1,null,null,null);f.options.__file="vue-ckeditor.vue";var p={name:"richtext_ckeditor",components:{VueCkeditor:f.exports},data:function(){return{content:"生命在于折腾"}},methods:{handleSubmit:function(){console.log(this.content)}}},v=(n("atLL"),Object(h.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con-main"},[n("vue-ckeditor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确定")])],1)],1)},[],!1,null,"60b527b8",null));v.options.__file="ckeditor.vue";e.default=v.exports},atLL:function(t,e,n){"use strict";var i=n("AxHL");n.n(i).a}}]);