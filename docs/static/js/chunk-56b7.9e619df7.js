(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-56b7"],{10:function(t,n){},8:function(t,n){},9:function(t,n){},"9hMu":function(t,n,r){},"JBl+":function(t,n,r){t.exports=r.p+"static/img/default-avatar.f154ce9.jpg"},Ytf9:function(t,n,r){"use strict";var e=r("9hMu");r.n(e).a},gBsu:function(t,n,r){"use strict";r.r(n);var e=r("14Xm"),a=r.n(e),u=r("D3Ub"),c=r.n(u),i=r("QbLZ"),s=r.n(i),o=r("rY9o"),p=r("rVWt"),f=r("JBl+"),l=r.n(f),h=r("L2JU"),d={name:"excel_export",data:function(){return{list:[],page:1,size:10,total:0,defaultAvatar:l.a,fetchLoading:!1,exportLoading:!1}},computed:s()({},Object(h.c)(["loading"])),created:function(){this.fetchSingers()},methods:{fetchSingers:function(t){var n=this;return c()(a.a.mark(function r(){var e,u,c,i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.fetchLoading=!0,r.next=3,Object(o.h)(t);case 3:(e=r.sent).success&&(n.fetchLoading=!1,u=e.data,c=u.list,i=u.total,n.list=c,n.total=i);case 5:case"end":return r.stop()}},r,n)}))()},handleExport:function(){var t=this;return c()(a.a.mark(function n(){var r,e,u;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.exportLoading=!0,n.next=3,Object(o.e)();case 3:(r=n.sent).success&&(t.exportLoading=!1,e=r.data,u=[{k:"singer_id",v:"编号"},{k:"pic",v:"头像"},{k:"name",v:"姓名"},{k:"country",v:"地区"}],Object(p.exportExcel)(u,e,"歌手列表.xlsx"));case 5:case"end":return n.stop()}},n,t)}))()},handleSizeChange:function(t){this.fetchSingers({page:this.page,size:t})},handleCurrentChange:function(t){this.fetchSingers({page:t,size:this.size})}}},v=(r("Ytf9"),r("KHd+")),g=Object(v.a)(d,function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"con-main"},[r("el-button",{staticClass:"export-btn",attrs:{type:"primary",loading:t.exportLoading},on:{click:t.handleExport}},[t._v("\n    导出\n  ")]),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.fetchLoading,expression:"fetchLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list}},[r("el-table-column",{attrs:{prop:"singer_id",label:"编号"}}),t._v(" "),r("el-table-column",{attrs:{prop:"pic",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(n){return[r("img",{staticClass:"avatar",attrs:{src:n.row.pic},on:{error:function(n){this.src=t.defaultAvatar}}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),r("el-table-column",{attrs:{prop:"country",label:"地区"}})],1),t._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next, sizes, jumper","page-size":t.size,total:t.total,"current-page":t.page},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)},[],!1,null,"dd521c14",null);g.options.__file="export.vue";n.default=g.exports},rY9o:function(t,n,r){"use strict";r.d(n,"g",function(){return p}),r.d(n,"a",function(){return f}),r.d(n,"b",function(){return l}),r.d(n,"c",function(){return h}),r.d(n,"d",function(){return d}),r.d(n,"h",function(){return v}),r.d(n,"e",function(){return g}),r.d(n,"f",function(){return b});var e=r("QbLZ"),a=r.n(e),u=r("14Xm"),c=r.n(u),i=r("D3Ub"),s=r.n(i),o=r("on7z"),p=function(){var t=s()(c.a.mark(function t(n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="/person",t.abrupt("return",o.a.get(r,{params:n}));case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=s()(c.a.mark(function t(n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="/person",t.abrupt("return",o.a.post(r,n));case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=s()(c.a.mark(function t(n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="/person/delete",t.abrupt("return",o.a.post(r,n));case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=s()(c.a.mark(function t(n){var r,e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n._id,e="/person/"+r,t.abrupt("return",o.a.get(e));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=s()(c.a.mark(function t(n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="/person",t.abrupt("return",o.a.put(r,n));case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=s()(c.a.mark(function t(n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="/singer",t.abrupt("return",o.a.get(r,{params:n}));case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),g=function(){var t=s()(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/singer/all",t.abrupt("return",o.a.get(n));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b=function(){var t=s()(c.a.mark(function t(n){var r,e,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=1,e=10,u="/customer",t.abrupt("return",o.a.get(u,{params:a()({page:r,size:e},n)}));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}();!function(){var t=s()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("/singer/export"));case 1:case"end":return t.stop()}},t,this)}))}()}}]);